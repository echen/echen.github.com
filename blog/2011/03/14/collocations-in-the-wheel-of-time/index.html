
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Collocations in the Wheel of Time - My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="I went yesterday to a talk on the use of collocations in information retrieval, so I decided to try generating some collocations of my own. I&#8217; &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://echen.github.com/blog/2011/03/14/collocations-in-the-wheel-of-time">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:echen.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Collocations in the Wheel of Time</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-14T04:19:36-07:00" pubdate data-updated="true">Mar 14<span>th</span>, 2011</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I went yesterday to a talk on the use of collocations in information retrieval, so I decided to try generating some collocations of my own. I&#8217;ve had a digital copy of the Wheel of Time idling around my computer for a while, so I used that as my dataset.</p>

<h1>What is a collocation?</h1>

<p>A collocation is basically a set of words that occur together more often than chance, particularly when the meaning of the phrase they form has some degree of non-compositionality. For example, &#8220;green frog&#8221; isn&#8217;t a collocation (it simply means, well, a frog that is green), while phrases like &#8220;New York&#8221;, &#8220;make a decision&#8221;, and &#8220;ice cream&#8221; are.</p>

<h1>Collocation Algorithm</h1>

<p>Surprisingly, the stupid-simple algorithm of taking the top N bigrams without stopwords works fairly well.</p>

<pre><code>collocation     count
aes sedai       535
dark one        196
two rivers      186
emonds field    152
tar valon       150
dont know       92
one power       63
master gill     63
common room     61
rand thought    59
false dragon    55
moiraine sedai  55
green man       54
rand looked     47
deep breath     47
looked around   45
one hand        44
fal dara        43
shadar logoth   43
dark ones       41
even more       40
aes sedais      39
thom merrilin   37
first time      37
one another     36
</code></pre>

<p>As we can see in the above table, phrases like &#8220;aes sedai&#8221;, &#8220;dark one&#8221;, and &#8220;two rivers&#8221; are highly ranked collocations, as they should be.</p>

<p>However, there are a couple false positives and poor rankings: &#8220;dont know&#8221; and &#8220;rand thought&#8221; aren&#8217;t really collocations, and while &#8220;common room&#8221; is a collocation, it probably shouldn&#8217;t be ranked higher than &#8220;shadar logoth&#8221;. So let&#8217;s see if we can do a little better.</p>

<h1>Ranking Collocations</h1>

<p>One easy way of improving our collocations is to use a t-statistic to measure the strength of collocation.</p>

<p>(Note that using the t-statistic as a significance test to <em>find</em> collocations is pretty useless, since almost all bigrams show significance at even obscenely low alpha levels (because language isn&#8217;t random), but it could be used to <em>rank</em> collocations.)</p>

<pre><code>collocation     count   t-statistic
aes sedai       535     23.10211862394927
dark one        196     13.860521362953332
two rivers      186     13.615459778209466
emonds field    152     12.323718154590404
tar valon       150     12.244452473366913
dont know       92      9.516646625330717
master gill     63      7.930564321120657
one power       63      7.854015842542644
common room     61      7.803239461942459
false dragon    55      7.413095406607586
green man       54      7.315379491245222
rand thought    59      7.313973672504267
moiraine sedai  55      7.217000758676086
deep breath     47      6.846741606876571
looked around   45      6.593645173571997
shadar logoth   43      6.556984737299105
fal dara        43      6.556752559170743
rand looked     47      6.452169813860899
dark ones       41      6.385667051407403
one hand        44      6.370313000597064
aes sedais      39      6.233831744841447
thom merrilin   37      6.075408500541748
even more       40      6.04920369742659
first time      37      5.991228217950062
bel tine        35      5.915727507160708
</code></pre>

<p>However, ranking with the t-statistic doesn&#8217;t appear to help much in this case. The reason might be that the t-statistic assumes a sample from a normal distribution, and our probabilities are too low for the normal approximation to kick in.</p>

<p>So let&#8217;s instead use a chi-square statistic, which non-parametrically measures the deviation between our observed pair count and the expected null pair count. And here we do see an improvement in our collocations:</p>

<pre><code>collocation     count   t-statistic             chi-square-statistic / 1000
shayol ghul     33      5.744257564397729       310.6960000000001
shadar logoth   43      6.556984737299105       310.696
tar valon       150     12.244452473366913      308.63741770798373
bel tine        35      5.915727507160708       302.0645834523452
dai shan        18      4.242504132149704       294.34263164315354
lews therin     30      5.476925875837552       291.27562521808125
aes sedai       535     23.10211862394927       258.5338408522448
fal dara        43      6.556752559170743       247.39731703714295
emonds field    152     12.323718154590404      230.60908878892494
amyrlin seat    18      4.242244674325305       147.16231884576544
cenn buie       24      4.898228520718306       125.04423333965258
false dragon    55      7.413095406607586       108.46072265958233
taren ferry     35      5.914487027562771       107.48605331880918
true source     33      5.742973327787289       100.04535811321102
two rivers      186     13.615459778209466      94.53034990989171
womens circle   19      4.358127670566016       91.54402382607543
mistress alys   22      4.689129771670375       71.04890022543866
queens blessing 22      4.689123595619235       70.74665912266121
master gill     63      7.930564321120657       66.67757296412702
common room     61      7.803239461942459       61.20963448192468
padan fain      19      4.357584935157578       57.20889364602492
four kings      21      4.5806220400573965      45.61709876735164
captain domon   20      4.470309309018544       45.36645244865389
trolloc wars    23      4.792872111791751       35.13663301361639
deep breath     47      6.846741606876571       34.10366973274088
</code></pre>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Your Name</span></span>

      








  


<time datetime="2011-03-14T04:19:36-07:00" pubdate data-updated="true">Mar 14<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/projects/'>projects</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://echen.github.com/blog/2011/03/14/collocations-in-the-wheel-of-time/" data-via="" data-counturl="http://echen.github.com/blog/2011/03/14/collocations-in-the-wheel-of-time/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/03/14/topological-combinatorics-and-the-evasiveness-conjecture/" title="Previous Post: Topological Combinatorics and the Evasiveness Conjecture">&laquo; Topological Combinatorics and the Evasiveness Conjecture</a>
      
      
        <a class="basic-alignment right" href="/blog/2011/03/14/pca-transpose-trick/" title="next Post: PCA Transpose Trick">PCA Transpose Trick &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/01/17/quick-introduction-to-ggplot2/">Quick Introduction to ggplot2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/03/introduction-to-conditional-random-fields/">Introduction to Conditional Random Fields</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/10/24/winning-the-netflix-prize-a-summary/">Winning the Netflix Prize: A Summary</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/09/29/stuff-harvard-people-like/">Stuff Harvard People Like</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/09/07/information-transmission-in-a-social-network-dissecting-the-spread-of-a-quora-post/">Information Transmission in a Social Network: Dissecting the Spread of a Quora Post</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
