{% capture root_url %}{{ site.root | strip_slash }}{% endcapture %}
{% include head.html %}
<body {% if page.body_id %} id="{{ page.body_id }}" {% endif %} {% if page.sidebar == false %} class="no-sidebar" {% endif %} {% if page.sidebar == 'collapse' or site.sidebar == 'collapse' %} class="collapse-sidebar sidebar-footer" {% endif %}>
  <header role="banner">{% include header.html %}</header>
  <nav role="navigation">{% include navigation.html %}</nav>
  <div id="main">
    <div id="content">
      {{ content | expand_urls: root_url }}
    </div>
  </div>
  <footer role="contentinfo">{% include footer.html %}</footer>
  {% include after_footer.html %}
</body>
</html>

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Register.LoadHook("[MathJax]/jax/output/HTML-CSS/fonts/ 
STIX/fontdata.js", function () {
    var HTMLCSS = MathJax.OutputJax["HTML-CSS"];
        
        MathJax.Hub.Browser.Select({
            Safari: function (browser) {
              browser.STIXfontBug = browser.versionAtLeast("5.1") &&  
browser.isMac;
            },
            Chrome: function (browser) {
              var match = navigator.appVersion.match(/AppleWebKit\/(\d+)/);
              if (match && parseInt(match[1]) > 534) {browser.STIXfontBug =  
true}
            }
          });
          if (MathJax.Hub.Browser.STIXfontBug) {
            HTMLCSS.FONTDATA.FONTS["STIXGeneral"].family = "STIXGeneral- 
Regular";
            HTMLCSS.FONTDATA.FONTS["STIXGeneral-italic"].family =  
"STIXGeneral-Italic";
            delete HTMLCSS.FONTDATA.FONTS["STIXGeneral-italic"].style;
          }
        });
        </script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
